<link rel="import" href="./bower_components/polymer/polymer.html">
<!--<link rel="import" href="./bower_components/paper-input/paper-input.html">-->
<!--<link rel="import" href="./bower_components/paper-input/paper-input-container.html">-->
<!--<link rel="import" href="./bower_components/iron-form-element-behavior/iron-form-element-behavior.html">-->
<!--<link rel="import" href="./bower_components/iron-validatable-behavior/iron-validatable-behavior.html">-->

<!--<link rel="import" href="./bower_components/iron-autogrow-textarea/iron-autogrow-textarea.html">-->
<!--<link rel="import" href="./bower_components/paper-input/paper-input-behavior.html">-->
<!--<link rel="import" href="./bower_components/paper-input/paper-input-char-counter.html">-->
<!--<link rel="import" href="./bower_components/paper-input/paper-input-error.html">-->
<!--<link rel="import" href="./bower_components/paper-input/paper-textarea.html">-->

<link rel="import" href="exmg-ckeditor-import.html">
<script src="../../node_modules/@ckeditor/ckeditor5-build-classic/build/ckeditor.js"></script>
<!--<script src="../dist/bundle.js"></script>-->


<!--
`exmg-ckeditor`
Paper style ckeditor input type

@demo demo/index.html
-->

<dom-module id="exmg-ckeditor">
  <link rel="import" type="css" href="dist/styles.css">

  <template>

    <!--<style>-->
      <!--:host {-->
        <!--display: block;-->
      <!--}-->

      <!--:host([focused]) {-->
        <!--outline: none;-->
      <!--}-->

      <!--[hidden],-->
      <!--:host([hidden]) {-->
        <!--display: none !important;-->
      <!--}-->

      <!--input::-webkit-input-placeholder {-->
        <!--color: var(&#45;&#45;paper-input-container-color, &#45;&#45;secondary-text-color);-->
      <!--}-->

      <!--input:-moz-placeholder {-->
        <!--color: var(&#45;&#45;paper-input-container-color, &#45;&#45;secondary-text-color);-->
      <!--}-->

      <!--input::-moz-placeholder {-->
        <!--color: var(&#45;&#45;paper-input-container-color, &#45;&#45;secondary-text-color);-->
      <!--}-->

      <!--input:-ms-input-placeholder {-->
        <!--color: var(&#45;&#45;paper-input-container-color, &#45;&#45;secondary-text-color);-->
      <!--}-->

      <!--label {-->
        <!--pointer-events: none;-->
      <!--}-->
      <!--textarea {-->
        <!--position: relative;-->
        <!--outline: none;-->
        <!--border: none;-->
        <!--resize: none;-->
        <!--background: inherit;-->
        <!--color: inherit;-->
        <!--/* see comments in template */-->
        <!--width: 100%;-->
        <!--height: 100%;-->
        <!--font-size: inherit;-->
        <!--font-family: inherit;-->
        <!--line-height: inherit;-->
        <!--text-align: inherit;-->
        <!--@apply &#45;&#45;iron-autogrow-textarea;-->
      <!--}-->
      <!--textarea::-webkit-input-placeholder {-->
        <!--@apply &#45;&#45;iron-autogrow-textarea-placeholder;-->
      <!--}-->
      <!--textarea:-moz-placeholder {-->
        <!--@apply &#45;&#45;iron-autogrow-textarea-placeholder;-->
      <!--}-->
      <!--textarea::-moz-placeholder {-->
        <!--@apply &#45;&#45;iron-autogrow-textarea-placeholder;-->
      <!--}-->
      <!--textarea:-ms-input-placeholder {-->
        <!--@apply &#45;&#45;iron-autogrow-textarea-placeholder;-->
      <!--}-->
    <!--</style>-->

    <style>
      /*.ck-hidden{display:none!important}.ck-reset,.ck-reset_all,.ck-reset_all *,.ck-reset_all a,.ck-reset_all textarea{box-sizing:border-box;width:auto;height:auto;position:static}svg.ck-icon{min-width:20px;min-height:20px;font-size:1em;vertical-align:middle}svg.ck-icon,svg.ck-icon *{color:inherit;cursor:inherit}svg.ck-icon *{fill:currentColor}.ck-tooltip,.ck-tooltip__text:after{position:absolute;pointer-events:none;-webkit-backface-visibility:hidden}.ck-tooltip{visibility:hidden;opacity:0;display:none;z-index:999}.ck-tooltip__text{display:inline-block}.ck-tooltip__text:after{content:"";width:0;height:0}.ck-button,a.ck-button{display:inline-block;position:relative;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none}.ck-button .ck-tooltip,a.ck-button .ck-tooltip{display:block}.ck-button:hover .ck-tooltip,a.ck-button:hover .ck-tooltip{visibility:visible;opacity:1}.ck-button .ck-button__label,.ck-button:focus:not(:hover) .ck-tooltip,a.ck-button .ck-button__label,a.ck-button:focus:not(:hover) .ck-tooltip{display:none}.ck-toolbar__separator{display:inline-block}.ck-toolbar__newline{display:block;clear:left}.ck-dropdown{display:inline-block;position:relative}.ck-dropdown:after{content:"";width:0;height:0;pointer-events:none;z-index:1;position:absolute;top:50%;transform:translateY(-50%)}.ck-dropdown__panel{-webkit-backface-visibility:hidden;display:none;z-index:999;position:absolute;left:0;transform:translateY(100%)}.ck-dropdown__panel-visible{display:inline-block}.ck-label,.ck-list__item{display:block}.cke-voice-label{display:none}.ck-balloon-panel{display:none;position:absolute;z-index:999}.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck-balloon-panel.ck-balloon-panel_with-arrow:before{content:"";position:absolute}.ck-balloon-panel.ck-balloon-panel_with-arrow:before{z-index:1}.ck-balloon-panel.ck-balloon-panel_with-arrow:after{z-index:2}.ck-balloon-panel.ck-balloon-panel_arrow_n:before,.ck-balloon-panel.ck-balloon-panel_arrow_ne:before,.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{z-index:1}.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck-balloon-panel.ck-balloon-panel_arrow_nw:after{z-index:2}.ck-balloon-panel.ck-balloon-panel_arrow_s:before,.ck-balloon-panel.ck-balloon-panel_arrow_se:before,.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{z-index:1}.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck-balloon-panel.ck-balloon-panel_arrow_sw:after{z-index:2}.ck-balloon-panel_visible{display:block}.ck-editor .ck-sticky-panel.ck-sticky-panel_sticky{z-index:999;position:fixed;top:0}.ck-editor .ck-sticky-panel.ck-sticky-panel_sticky.ck-sticky-panel_sticky_bottom-limit{top:auto;position:absolute}.ck-reset,.ck-reset_all,.ck-reset_all *,.ck-reset_all a,.ck-reset_all textarea{margin:0;padding:0;border:0;background:transparent;text-decoration:none;vertical-align:middle;transition:none;word-wrap:break-word}.ck-reset_all,.ck-reset_all *,.ck-reset_all a,.ck-reset_all textarea{border-collapse:collapse;font:normal normal normal 12px/1.67 Helvetica,Arial,Tahoma,Verdana,Sans-Serif;color:#333;text-align:left;white-space:nowrap;cursor:auto;float:none}.ck-reset_all .ck-rtl *{text-align:right}.ck-reset_all iframe{vertical-align:inherit}.ck-reset_all textarea{white-space:pre-wrap}.ck-reset_all input[type=password],.ck-reset_all input[type=text],.ck-reset_all textarea{cursor:text}.ck-reset_all input[type=password][disabled],.ck-reset_all input[type=text][disabled],.ck-reset_all textarea[disabled]{cursor:default}.ck-reset_all fieldset{padding:10px;border:2px groove #e0dfe3}.ck-reset_all button::-moz-focus-inner{padding:0;border:0}svg.ck-icon{width:1.67em;height:1.67em}.ck-tooltip{left:50%}.ck-tooltip__text{font-size:.9em;line-height:1.5;color:#fff;padding:.4em .64em;background:#333;position:relative;left:-50%}.ck-rounded-corners .ck-tooltip__text,.ck-tooltip__text.ck-rounded-corners{border-radius:2px}.ck-tooltip__text:after{border-style:solid;left:50%}.ck-tooltip.ck-tooltip_s{bottom:-5px;transform:translateY(100%)}.ck-tooltip.ck-tooltip_s .ck-tooltip__text:after{top:-5px;transform:translateX(-50%);border-color:transparent transparent #333;border-width:0 5px 5px}.ck-tooltip.ck-tooltip_n{top:-5px;transform:translateY(-100%)}.ck-tooltip.ck-tooltip_n .ck-tooltip__text:after{bottom:-5px;transform:translateX(-50%);border-color:#333 transparent transparent;border-width:5px 5px 0}.ck-tooltip,.ck-tooltip__text:after{transition:opacity .2s ease-in-out .2s}.ck-button,a.ck-button{background:#fff;border:1px solid #bfbfbf;white-space:nowrap;cursor:default;vertical-align:middle;padding:.4em;font-size:inherit}.ck-button:not(.ck-disabled):focus,.ck-button:not(.ck-disabled):hover,a.ck-button:not(.ck-disabled):focus,a.ck-button:not(.ck-disabled):hover{background:#e6e6e6;border-color:#acacac}.ck-button:not(.ck-disabled):active,a.ck-button:not(.ck-disabled):active{background:#d9d9d9;border-color:#a3a3a3;box-shadow:inset 0 2px 2px #bfbfbf}.ck-button.ck-disabled,a.ck-button.ck-disabled{background:#fff;border-color:#c6c6c6}.ck-button.ck-rounded-corners,.ck-rounded-corners .ck-button,.ck-rounded-corners a.ck-button,a.ck-button.ck-rounded-corners{border-radius:2px}.ck-button:focus,a.ck-button:focus{outline:none;border:1px solid #48a3f5;box-shadow:0 0 3px 2px #78bbf8}.ck-button .ck-icon,a.ck-button .ck-icon{float:left}.ck-button.ck-disabled .ck-button__label,.ck-button.ck-disabled .ck-icon,a.ck-button.ck-disabled .ck-button__label,a.ck-button.ck-disabled .ck-icon{opacity:.5}.ck-button.ck-button_with-text,a.ck-button.ck-button_with-text{padding:.4em .8em}.ck-button.ck-button_with-text .ck-icon,a.ck-button.ck-button_with-text .ck-icon{margin-left:-.4em;margin-right:.4em}.ck-button.ck-button_with-text .ck-button__label,a.ck-button.ck-button_with-text .ck-button__label{display:block}.ck-button.ck-on,a.ck-button.ck-on{background:#f7f7f7;border-color:#b9b9b9}.ck-button.ck-on:not(.ck-disabled):focus,.ck-button.ck-on:not(.ck-disabled):hover,a.ck-button.ck-on:not(.ck-disabled):focus,a.ck-button.ck-on:not(.ck-disabled):hover{background:#dedede;border-color:#a7a7a7}.ck-button.ck-on:not(.ck-disabled):active,a.ck-button.ck-on:not(.ck-disabled):active{background:#d2d2d2;border-color:#9d9d9d;box-shadow:inset 0 2px 2px #b9b9b9}.ck-button.ck-on.ck-disabled,a.ck-button.ck-on.ck-disabled{background:#f8f8f8;border-color:silver}.ck-button-action,a.ck-button-action{background:#61b145;border-color:#4e8e37;text-shadow:0 -1px #4e8e37;color:#fff}.ck-button-action:not(.ck-disabled):focus,.ck-button-action:not(.ck-disabled):hover,a.ck-button-action:not(.ck-disabled):focus,a.ck-button-action:not(.ck-disabled):hover{background:#579f3e;border-color:#467f32}.ck-button-action:not(.ck-disabled):active,a.ck-button-action:not(.ck-disabled):active{background:#52963b;border-color:#42782f;box-shadow:inset 0 2px 2px #498534}.ck-button-action.ck-disabled,a.ck-button-action.ck-disabled{background:#6fbc54;border-color:#5aa440}.ck-button-action:active,.ck-button-action:focus,.ck-button-action:hover,a.ck-button-action:active,a.ck-button-action:focus,a.ck-button-action:hover{text-shadow:0 -1px #3a6a29}.ck-button-bold,a.ck-button-bold{font-weight:700}.ck-button .ck-icon use,.ck-button .ck-icon use *,a.ck-button .ck-icon use,a.ck-button .ck-icon use *{color:inherit}.ck-button .ck-button__label,a.ck-button .ck-button__label{font-size:inherit;float:left;height:1.67em;line-height:inherit;font-weight:inherit;color:inherit;cursor:inherit}.ck-toolbar{padding:.4em;border:1px solid #bfbfbf;white-space:normal;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none}.ck-toolbar_floating{white-space:nowrap}.ck-rounded-corners .ck-toolbar,.ck-toolbar.ck-rounded-corners{border-radius:2px}.ck-toolbar__separator{width:1px;height:2.28em;vertical-align:middle;background:#bfbfbf}.ck-toolbar__newline{height:.4em}.ck-toolbar>*{margin-right:.4em}.ck-toolbar>:last-child{margin-right:0}.ck-toolbar-container .ck-toolbar{border:0}.ck-dropdown{font-size:inherit}.ck-dropdown:after{border-style:solid;border-width:.4em .4em 0;border-color:#707070 transparent;right:.8em}.ck-dropdown .ck-button.ck-dropdown__button{padding-right:1.6em}.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled .ck-button__label{opacity:.5}.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{width:7em;overflow:hidden;text-overflow:ellipsis}.ck-dropdown__panel{background:#fff;border:1px solid #bfbfbf;bottom:1px;box-shadow:0 1px 2px 0 rgba(0,0,0,.2)}.ck-dropdown__panel.ck-rounded-corners,.ck-rounded-corners .ck-dropdown__panel{border-radius:2px}.ck-list{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;overflow:hidden;list-style-type:none;background:#fff}.ck-list.ck-rounded-corners,.ck-rounded-corners .ck-list{border-radius:2px}.ck-list__item{padding:.64em;cursor:default;min-width:12em}.ck-list__item:focus,.ck-list__item:hover{background:#f7f7f7}.ck-list__item:focus{box-shadow:0 0 3px 2px #78bbf8;position:relative;z-index:1;outline:none}.ck-list__item_active{background:#1a8bf1;color:#fff}.ck-list__item_active:focus,.ck-list__item_active:hover{background:#0e7ee2}.ck-label{font-weight:700}.ck-input-text{box-shadow:inset 2px 2px 3px rgba(0,0,0,.1);background:#fff;border:1px solid #bfbfbf;padding:.4em .64em;min-width:21em}.ck-input-text.ck-rounded-corners,.ck-rounded-corners .ck-input-text{border-radius:2px}.ck-input-text:focus{outline:none;border:1px solid #48a3f5;box-shadow:0 0 3px 2px #78bbf8,inset 2px 2px 3px rgba(0,0,0,.1)}.ck-input-text[readonly]{border:1px solid #c6c6c6;background:#f2f2f2;color:#5c5c5c}.ck-editor__editable.ck-focused{outline:none;border:1px solid #48a3f5;box-shadow:inset 2px 2px 3px rgba(0,0,0,.1)}.ck-editor__editable_inline{overflow:auto;padding:0 .8em;border:1px solid transparent}.ck-editor-toolbar .ck-button{border-width:0}.ck-editor-toolbar .ck-button.ck-disabled,.ck-editor-toolbar .ck-button:not(:hover):not(:focus):not(.ck-on){background:#f7f7f7}.ck-editor-toolbar .ck-button.ck-on{background:#dedede;border-color:#acacac}.ck-editor-toolbar .ck-button.ck-on:not(.ck-disabled):focus,.ck-editor-toolbar .ck-button.ck-on:not(.ck-disabled):hover{background:#c6c6c6;border-color:#999}.ck-editor-toolbar .ck-button.ck-on:not(.ck-disabled):active{background:#b9b9b9;border-color:#8f8f8f;box-shadow:inset 0 2px 2px #a1a1a1}.ck-editor-toolbar .ck-button.ck-on.ck-disabled{background:#f7f7f7;border-color:#bfbfbf}.ck-editor-toolbar .ck-button.ck-dropdown__button{border-width:1px}.ck-editor-toolbar .ck-button.ck-dropdown__button:not(:hover):not(:focus):not(.ck-on){background:#fff}.ck-toolbar-container .ck-editor-toolbar{background:#f7f7f7}.ck-toolbar-container.ck-editor-toolbar-container.ck-balloon-panel_arrow_n:after,.ck-toolbar-container.ck-editor-toolbar-container.ck-balloon-panel_arrow_ne:after,.ck-toolbar-container.ck-editor-toolbar-container.ck-balloon-panel_arrow_nw:after{border-bottom-color:#f7f7f7}.ck-toolbar-container.ck-editor-toolbar-container.ck-balloon-panel_arrow_s:after,.ck-toolbar-container.ck-editor-toolbar-container.ck-balloon-panel_arrow_se:after,.ck-toolbar-container.ck-editor-toolbar-container.ck-balloon-panel_arrow_sw:after{border-top-color:#f7f7f7}.ck-balloon-panel{box-shadow:0 1px 2px 0 rgba(0,0,0,.2);min-height:15px;background:#fff;border:1px solid #bfbfbf}.ck-balloon-panel.ck-rounded-corners,.ck-rounded-corners .ck-balloon-panel{border-radius:2px}.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck-balloon-panel.ck-balloon-panel_with-arrow:before{width:0;height:0;border-style:solid}.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck-balloon-panel.ck-balloon-panel_arrow_n:before,.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck-balloon-panel.ck-balloon-panel_arrow_ne:before,.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{border-width:0 10px 15px}.ck-balloon-panel.ck-balloon-panel_arrow_n:before,.ck-balloon-panel.ck-balloon-panel_arrow_ne:before,.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{border-color:transparent transparent #bfbfbf}.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck-balloon-panel.ck-balloon-panel_arrow_nw:after{border-color:transparent transparent #fff;margin-top:2px}.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck-balloon-panel.ck-balloon-panel_arrow_s:before,.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck-balloon-panel.ck-balloon-panel_arrow_se:before,.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{border-width:15px 10px 0}.ck-balloon-panel.ck-balloon-panel_arrow_s:before,.ck-balloon-panel.ck-balloon-panel_arrow_se:before,.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{border-color:#bfbfbf transparent transparent}.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck-balloon-panel.ck-balloon-panel_arrow_sw:after{border-color:#fff transparent transparent;margin-bottom:2px}.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck-balloon-panel.ck-balloon-panel_arrow_n:before{left:50%;margin-left:-10px;top:-15px}.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{left:20px;top:-15px}.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck-balloon-panel.ck-balloon-panel_arrow_ne:before{right:20px;top:-15px}.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck-balloon-panel.ck-balloon-panel_arrow_s:before{left:50%;margin-left:-10px;bottom:-15px}.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{left:20px;bottom:-15px}.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck-balloon-panel.ck-balloon-panel_arrow_se:before{right:20px;bottom:-15px}.ck-editor .ck-sticky-panel.ck-sticky-panel_sticky{box-shadow:0 1px 2px 0 rgba(0,0,0,.2);border-width:0 1px 1px;border-top-left-radius:0;border-top-right-radius:0}.ck-editor{position:relative}.ck-editor__top .ck-sticky-panel .ck-toolbar{z-index:999;background:#f7f7f7;border-bottom-width:0}.ck-editor__top .ck-sticky-panel .ck-toolbar.ck-rounded-corners,.ck-rounded-corners .ck-editor__top .ck-sticky-panel .ck-toolbar{border-radius:2px;border-bottom-left-radius:0;border-bottom-right-radius:0}.ck-editor__top .ck-sticky-panel_sticky .ck-toolbar{border-bottom-width:1px}.ck-editor__top .ck-sticky-panel_sticky .ck-toolbar.ck-rounded-corners,.ck-rounded-corners .ck-editor__top .ck-sticky-panel_sticky .ck-toolbar{border-radius:2px;border-radius:0}.ck-editor__editable{border:1px solid #bfbfbf}.ck-editor__editable.ck-rounded-corners,.ck-rounded-corners .ck-editor__editable{border-radius:2px;border-top-left-radius:0;border-top-right-radius:0}blockquote{border-left:5px solid #ccc;padding-left:20px;margin-left:0;font-style:italic;overflow:hidden}.ck-widget{margin:.8em 0;padding:0}.ck-widget.ck-widget_selected,.ck-widget.ck-widget_selected:hover{outline:3px solid #48a3f5}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected{outline:3px solid #ddd}.ck-widget:hover{outline:3px solid #ffd25c}.ck-widget .ck-editable{border:1px solid transparent}.ck-widget .ck-editable.ck-editable_focused,.ck-widget .ck-editable:focus{outline:none;border:1px solid #48a3f5;box-shadow:inset 2px 2px 3px rgba(0,0,0,.1);background-color:#fff}.cke-text-alternative-form{padding:1.2em;overflow:hidden}.cke-text-alternative-form:focus{outline:none}.cke-text-alternative-form .ck-label{margin-bottom:.4em}.cke-text-alternative-form__actions{clear:both;padding-top:1.2em}.cke-text-alternative-form__actions .ck-button{float:right}.cke-text-alternative-form__actions .ck-button+.ck-button{margin-right:.64em}.cke-text-alternative-form__actions .ck-button+.ck-button+.ck-button{float:left}.ck-editor__editable .image{text-align:center;clear:both}.ck-editor__editable .image.image-style-align-center,.ck-editor__editable .image.image-style-align-left,.ck-editor__editable .image.image-style-align-right,.ck-editor__editable .image.image-style-side{max-width:50%}.ck-editor__editable .image.image-style-side{float:right;margin-left:2em}.ck-editor__editable .image.image-style-align-left{float:left;margin-right:2em}.ck-editor__editable .image.image-style-align-center{margin-left:auto;margin-right:auto}.ck-editor__editable .image.image-style-align-right{float:right;margin-left:2em}.ck-editor__editable .image>img{display:block;margin:0 auto;max-width:100%}figure.image{position:relative;overflow:hidden}figure.image.ck-appear{animation:fadeIn .7s}figure.image.ck-infinite-progress:before{content:"";width:30px;height:2px;position:absolute;top:0;right:0;background:rgba(0,0,0,.1);animation-name:readingProgressAnimation;animation-duration:1.5s;animation-iteration-count:infinite;transition-timing-function:linear}figure.image.ck-image-upload-placeholder>img{width:100%}figure.image .ck-progress-bar{height:2px;width:0;position:absolute;top:0;left:0;background:#6ab5f9;transition:width .1s}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}@keyframes readingProgressAnimation{0%{width:30px;right:0}50%{width:45px}to{right:100%}}.ck-heading_heading1{font-size:1.5em}.ck-heading_heading2{font-size:1.3em}.ck-heading_heading3{font-size:1.1em}[class*=ck-heading_]{line-height:21.6px;padding:9.6px}[class*=ck-heading_heading]{font-weight:700}.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}.ck-placeholder:before{content:attr(data-placeholder);cursor:text;color:#c2c2c2;pointer-events:none}.ck-editor__editable .image>figcaption{color:#333;background-color:#f7f7f7;padding:.8em;font-size:.75em;outline-offset:-1px}.ck-link-form{padding:1.2em;overflow:hidden}.ck-link-form:focus{outline:none}.ck-link-form .ck-input-text{width:100%}.ck-link-form .ck-label{margin-bottom:.2em}.ck-link-form__actions{clear:both;padding-top:1.2em}.ck-link-form__actions .ck-button{float:right}.ck-link-form__actions .ck-button+.ck-button{margin-right:.64em}.ck-link-form__actions .ck-button:last-child{float:left;margin-right:2.56em}*/


    </style>

    <!--<div id="editor">-->
      <!--<p>Editor content goes here.</p>-->
    <!--</div>-->

    <textarea
      id="editor"
      rows="{{rows}}"
      class$="{{ _updateClass(error, mono) }}"
      placeholder="{{placeholder}}"
      value="{{value::input}}"
      maxlength$="{{maxlength}}"
      disabled="{{disabled}}"
      style$="{{ _updateStyle(width, height, fitparent) }}"></textarea>

    <!--<p>disabled: [[disabled]]<br/>-->
      <!--invalid: [[invalid]]</p>-->
    <!--&lt;!&ndash;<paper-textarea label="Textarea label"></paper-textarea>&ndash;&gt;-->

    <!--<paper-input-container no-label-float$="[[noLabelFloat]]"-->
                           <!--always-float-label="[[_computeAlwaysFloatLabel(alwaysFloatLabel,placeholder)]]"-->
                           <!--auto-validate$="[[autoValidate]]"-->
                           <!--disabled$="[[disabled]]"-->
                           <!--invalid="[[invalid]]"-->
                           <!--aria-labelledby$="[[_ariaLabelledBy]]"-->
                           <!--aria-describedby$="[[_ariaDescribedBy]]">-->

      <!--<label hidden$="[[!label]]" aria-hidden="true" for="input" slot="label">[[label]]</label>-->

      <!--<iron-autogrow-textarea id="input" class="paper-input-input" slot="input"-->
                              <!--aria-labelledby$="[[_ariaLabelledBy]]"-->
                              <!--aria-describedby$="[[_ariaDescribedBy]]"-->
                              <!--bind-value="{{value}}"-->
                              <!--invalid="{{invalid}}"-->
                              <!--validator$="[[validator]]"-->
                              <!--disabled$="[[disabled]]"-->
                              <!--autocomplete$="[[autocomplete]]"-->
                              <!--autofocus$="[[autofocus]]"-->
                              <!--inputmode$="[[inputmode]]"-->
                              <!--name$="[[name]]"-->
                              <!--placeholder$="[[placeholder]]"-->
                              <!--readonly$="[[readonly]]"-->
                              <!--required$="[[required]]"-->
                              <!--minlength$="[[minlength]]"-->
                              <!--maxlength$="[[maxlength]]"-->
                              <!--autocapitalize$="[[autocapitalize]]"-->
                              <!--rows$="[[rows]]"-->
                              <!--max-rows$="[[maxRows]]"-->
                              <!--on-change="_onChange"></iron-autogrow-textarea>-->

      <!--<template is="dom-if" if="[[errorMessage]]">-->
        <!--<paper-input-error aria-live="assertive" slot="add-on">[[errorMessage]]</paper-input-error>-->
      <!--</template>-->

      <!--<template is="dom-if" if="[[charCounter]]">-->
        <!--<paper-input-char-counter slot="add-on"></paper-input-char-counter>-->
      <!--</template>-->


      <!--<textarea-->
          <!--id="input"-->
          <!--autofocus$="[[autofocus]]"-->
          <!--aria-labelledby$="[[_ariaLabelledBy]]"-->
          <!--aria-describedby$="[[_ariaDescribedBy]]"-->
          <!--title$="[[title]]"-->
          <!--disabled$="[[disabled]]"-->
          <!--tabindex$="[[tabindex]]"-->
          <!--class="paper-input-input">-->
        <!--</textarea>-->

      <!--&lt;!&ndash;<content select="[suffix]"></content>&ndash;&gt;-->


    <!--</paper-input-container>-->
  </template>

  <script>
    Polymer({

      is: 'exmg-ckeditor',
//      behaviors: [
//        Polymer.IronFormElementBehavior,
//        Polymer.PaperInputBehavior,
////        Polymer.IronValidatableBehavior
//      ],
      properties: {
        /**
         * CKEditor configuration object. Please visit http://docs.ckeditor.com/#!/guide/dev_configuration for more information
         */
        config: {
          type: Object,
          observer: '_observeConfig'
        },
        _editorReady: {
          type: Boolean,
          value: false
        },
        _ariaLabelledBy: {
          observer: '_ariaLabelledByChanged',
          type: String,
        },
        _ariaDescribedBy: {
          observer: '_ariaDescribedByChanged',
          type: String,
        },

        /**
         * The initial number of rows.
         *
         * @attribute rows
         * @type number
         * @default 1
         */
        rows: {
          type: Number,
          value: 1,
        },
        /**
         * The maximum number of rows this element can grow to until it
         * scrolls. 0 means no maximum.
         *
         * @attribute maxRows
         * @type number
         * @default 0
         */
        maxRows: {
          type: Number,
          value: 0,
        },
      },
      observers: [
        '_observeValue(value, _editorReady)',
        '_observeReady(_editorReady)',
      ],
      /**
       * Returns a reference to the editor .
       */
      get editor() {
        return this._editor;
      },
      _observeReady: function(_editorReady) {
        if(_editorReady) {
          this.fire('editor-ready', this.editor);
        }
      },
      _observeValue: function(value, _editorReady) {
        if(_editorReady && this._editor.getData() !== value) {
          this._editor.setData(value);
        }
      },
      _observeConfig: function(config) {
        if(!this._editorReady) {
          return;
        }
        this.destroyEditor();
        this.initializeEditor();
      },
      /**
       *  Initialize editor to replace textarea. Please note that this method will automaticly be called uppon load.
       */
      initializeEditor: function() {
        var config = this.config || {};
        if(typeof config === 'string') {
          config = JSON.parse(config);
        }
//        this._editor = CKEDITOR.replace(this.$.editor, config);
        ClassicEditor
        //          .create( document.querySelector( '#itemHtml' ) )
          .create( this.$.editor )
//          .create( document.querySelector( '#editor' ) )
          .then( editor => {
          console.log( editor );
        this._editor = editor;
//        this._editor.on('instanceReady', () => this._editorReady = true);
        this._editor.on('uiReady', () => this._editorReady = true
      );
//        this._editorReady = true
//        this._editor.on('change', () => this.value = this._editor.getData());
        this._editor.on('change', () => this.value = this._editor.getData());
//        this._editor.getData()
      } )
      .catch( error => {
          console.error( error );
      } );

      },
      /**
       *  Destroy editor instance
       */
      destroyEditor: function() {
        if(this._editor) {
          this._editor.destroy();
        }
      },
      attached: function() {
        this.initializeEditor();
      },
      detached: function() {
        this.destroyEditor();
      },

      get selectionStart() {
        return this.$.input.textarea.selectionStart;
      },
      set selectionStart(start) {
        this.$.input.textarea.selectionStart = start;
      },
      get selectionEnd() {
        return this.$.input.textarea.selectionEnd;
      },
      set selectionEnd(end) {
        this.$.input.textarea.selectionEnd = end;
      },
      _ariaLabelledByChanged: function(ariaLabelledBy) {
//        this.$.input.textarea.setAttribute('aria-labelledby', ariaLabelledBy);
        this.$.editor.setAttribute('aria-labelledby', ariaLabelledBy);
      },
      _ariaDescribedByChanged: function(ariaDescribedBy) {
//        this.$.input.textarea.setAttribute('aria-describedby', ariaDescribedBy);
        this.$.editor.setAttribute('aria-describedby', ariaDescribedBy);
      },
      get _focusableElement() {
        return this.$.editor.textarea;
      },
    });
  </script>
</dom-module>
